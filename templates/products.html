{% extends "base.html" %}
{% block title %}Products | Mushroom Foods{% endblock %}

{% block content %}
<section class="products-section">
  <h1>Our Frozen Products</h1>
  <div class="products-grid">
    {% for product in products %}
    <div class="product-card">
      <img src="{{ product.image_url }}" alt="{{ product.name }}">
      <div class="info">
        <h2>{{ product.name }}</h2>
        <p>{{ product.description }}</p>
        <div class="price">â‚¹{{ product.price }}</div>

        <!-- Tabs -->
        <div class="tabs">
          <div class="tab" onclick="toggleTab(this, 0)">Usage</div>
          <div class="tab" onclick="toggleTab(this, 1)">Health Benefits</div>
        </div>

        <div class="tab-content">{{ product.usage }}</div>
        <div class="tab-content">{{ product.health_benefits }}</div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<script>
function toggleTab(tab, index) {
  const card = tab.closest('.product-card');
  const tabs = card.querySelectorAll('.tab');
  const contents = card.querySelectorAll('.tab-content');

  contents.forEach((c, i) => {
    c.style.display = i === index ? (c.style.display === 'block' ? 'none' : 'block') : 'none';
  });

  // Highlight active tab
  tabs.forEach((t, i) => {
    if(i === index && contents[index].style.display === 'block'){
        t.style.backgroundColor = '#ddd';
    } else {
        t.style.backgroundColor = '#f7f7f7';
    }
  });
}

document.body.classList.add("products-page");
</script>

{% endblock %}


